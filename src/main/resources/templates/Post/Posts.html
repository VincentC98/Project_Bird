<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link th:href="@{/css/main.css}" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
</head>
<body>
<!--HEADER-->
<div th:replace="fragments/header::top-nav"></div>
<form th:action="${'/post/add'}">
    <input type="submit" value="add post" class="btnAddPost btn-success pull-right">
</form>
<div th:each="post:${posts}" class="margin">
    <H1 th:text="*{post.title}"></H1>
    <div>
        <img th:src="@{${post.getPhotosImagePath()}}">
    </div>
    <div th:object="${user}">
        <H2>Some details</H2>
        <p th:text="${post.description}"></p>
        <p th:text="${postService.gePostRateAverage(post.getPostId())}"></p>
        <div th:if="${post.user.userName == username}">
            <a th:href="${'/post/update/'+post.postId}">update post</a>
            <a th:href="${'/post/delete/'+post.postId}">delete post</a>
        </div>
        <a th:if="${post.user.userName != username}" th:href="${'/post/addRating/'+post.postId}">add rate</a>
    </div>
</div>
<!--FOOTER-->
<footer th:replace="fragments/footer::footer"></footer>
</body>
</html>